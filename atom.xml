<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Shane Weng&#39;s Blog</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://www.shaneweng.com/"/>
  <updated>2017-09-15T20:54:04.000Z</updated>
  <id>http://www.shaneweng.com/</id>
  
  <author>
    <name>Shane Weng</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Close Popup Window in Chrome Extension</title>
    <link href="http://www.shaneweng.com/2014/07/20/2014-07-20-Close-Popup-Window-in-Chrome/"/>
    <id>http://www.shaneweng.com/2014/07/20/2014-07-20-Close-Popup-Window-in-Chrome/</id>
    <published>2014-07-20T07:00:00.000Z</published>
    <updated>2017-09-15T20:54:04.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="chrome-fixed-the-security-issues-on-version-36-0-1985-125">Chrome Fixed the security issues on version 36.0.1985.125</h3><p>Chrome 36.0.1985.125 WEDNESDAY, JULY 16, 2014<br><a href="http://googlechromereleases.blogspot.com/2014/07/stable-channel-update.html" target="_blank" rel="external">Release note</a></p><a id="more"></a><p>As it said, the new version contains a number of fixes and improvements, including:</p><blockquote><p>Rich Notifications Improvements<br>An Updated Incognito / Guest NTP design<br>The addition of a Browser crash recovery bubble<br>Chrome App Launcher for Linux<br>Lots of under the hood changes for stability and performance</p></blockquote><p>It also said:</p><blockquote><p>This update includes 26 security fixes. Below, we highlight fixes that were either contributed by external researchers or particularly interesting. Please see the Chromium security page for more information.</p></blockquote><p>From my observation, this update fixed the issue on using <code>window.close()</code> to close the popup window. You will see this in the console when it fail, “Scripts may close only the windows that were opened by it.”</p><p>So, in the previous Chrome released builds, the below code block may worked but not with this update.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">window</span>.open(<span class="string">''</span>, <span class="string">'_self'</span>, <span class="string">''</span>);</div><div class="line"><span class="built_in">window</span>.close();</div></pre></td></tr></table></figure><p>Above is to open a new window with about:blank to replace the current page, then close it. From this Chrome update, you have to update your code accordingly to close the popup window. One of the solution is to grab the popup window id and use</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">chrome.windows.remove(integer windowId, <span class="function"><span class="keyword">function</span> <span class="title">callback</span>)</span></div></pre></td></tr></table></figure><p>method to remove it. Chrome extension windows API can be found at <a href="https://developer.chrome.com/extensions/windows" target="_blank" rel="external">chrome.windows</a>.</p><p><code>chrome.windows.remove</code> is Chrome extension API, javascript program should be recognized by chrome extension. You can try by putting it inside background.js, in your chrome extension manifest.json you need to have:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="string">"background"</span>: &#123;</div><div class="line">  <span class="string">"scripts"</span>: [<span class="string">"background.js"</span>],</div><div class="line">  ...</div><div class="line">&#125;,</div></pre></td></tr></table></figure><p>Actually my chrome extension <a href="https://chrome.google.com/webstore/detail/markview/iaddkimmopgchbbnmfmdcophmlnghkim" target="_blank" rel="external">MarkView</a> was facing this issue and I had to update my code to make it work for this Chrome Update. By the way, MarkView is tool to read and write Awesome Markdown Files, it provides features including Content Outline, Sortable Tables and code block syntax highlight with line number.</p><p>In the past, a great discussion around this window close issue can be found at <a href="http://stackoverflow.com/questions/19761241/window-close-and-self-close-do-not-close-the-window-in-chrome" target="_blank" rel="external">stackoverflow</a>.</p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;chrome-fixed-the-security-issues-on-version-36-0-1985-125&quot;&gt;Chrome Fixed the security issues on version 36.0.1985.125&lt;/h3&gt;
&lt;p&gt;Chrome 36.0.1985.125 WEDNESDAY, JULY 16, 2014&lt;br&gt;
&lt;a href=&quot;http://googlechromereleases.blogspot.com/2014/07/stable-channel-update.html&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Release note&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="blog" scheme="http://www.shaneweng.com/categories/blog/"/>
    
    
      <category term="chrome" scheme="http://www.shaneweng.com/tags/chrome/"/>
    
  </entry>
  
  <entry>
    <title>Why Dot Files are Needed</title>
    <link href="http://www.shaneweng.com/2013/02/01/2013-02-01-why-dotfiles-are-needed/"/>
    <id>http://www.shaneweng.com/2013/02/01/2013-02-01-why-dotfiles-are-needed/</id>
    <published>2013-02-01T08:00:00.000Z</published>
    <updated>2017-09-15T20:43:23.000Z</updated>
    
    <content type="html"><![CDATA[<p>The answer is<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>:</p><ul><li>Backup, restore, and sync the prefs and settings for your toolbox. Your dotfiles might be the most important files on your machine.</li><li>Learn from the community. Discover new tools for your toolbox and new tricks for the ones you already use.</li><li>Share what you’ve learned with the rest of us.</li></ul><a id="more"></a><p><a class="fancybox" href="http://dotfiles.github.io/images/dotfiles-logo.png" title="Caption" data-fancybox-group="" target="_blank" rel="external"><img class="fig-img" src="http://dotfiles.github.io/images/dotfiles-logo.png" style="width:75%;" alt="Caption"></a></p><h2 id="here-is-my-dotfiles-on-github">Here is My Dotfiles on Github</h2><ul><li>DotFiles<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup></li></ul><h2 id="my-customized-system-based-on-dotfiles">My Customized System Based on Dotfiles</h2><ul><li>Shell - ZSH, which is Oh My ZSH</li><li>Language - Ruby<sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup></li><li>Web Framework - Ruby on Rails<sup class="footnote-ref"><a href="#fn4" id="fnref4">[4]</a></sup></li><li>OS - Linux Ubuntu and Mac OS X</li><li>Editor - vim</li><li>VCS - git</li></ul><h2 id="references">References</h2><hr class="footnotes-sep"><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>The answer is from <a href="http://dotfiles.github.com/" target="_blank" rel="external">Github Dotfiles</a> <a href="#fnref1" class="footnote-backref">↩</a></p></li><li id="fn2" class="footnote-item"><p><a href="https://github.com/swcool/dotfiles" target="_blank" rel="external">https://github.com/swcool/dotfiles</a> <a href="#fnref2" class="footnote-backref">↩</a></p></li><li id="fn3" class="footnote-item"><p><a href="https://github.com/ruby/ruby" target="_blank" rel="external">https://github.com/ruby/ruby</a> <a href="#fnref3" class="footnote-backref">↩</a></p></li><li id="fn4" class="footnote-item"><p><a href="https://github.com/rails/rails" target="_blank" rel="external">https://github.com/rails/rails</a> <a href="#fnref4" class="footnote-backref">↩</a></p></li></ol></section>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;The answer is&lt;sup class=&quot;footnote-ref&quot;&gt;&lt;a href=&quot;#fn1&quot; id=&quot;fnref1&quot;&gt;[1]&lt;/a&gt;&lt;/sup&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Backup, restore, and sync the prefs and settings for your toolbox. Your dotfiles might be the most important files on your machine.&lt;/li&gt;
&lt;li&gt;Learn from the community. Discover new tools for your toolbox and new tricks for the ones you already use.&lt;/li&gt;
&lt;li&gt;Share what you’ve learned with the rest of us.&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="blog-tech" scheme="http://www.shaneweng.com/categories/blog-tech/"/>
    
    
      <category term="dotfiles" scheme="http://www.shaneweng.com/tags/dotfiles/"/>
    
      <category term="git" scheme="http://www.shaneweng.com/tags/git/"/>
    
  </entry>
  
</feed>
